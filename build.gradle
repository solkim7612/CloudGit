plugins {
    id 'java'
    id 'com.google.cloud.tools.jib' version '3.4.0'
}

repositories {
    mavenCentral()
}

dependencies {
    testImplementation 'junit:junit:4.13.2'
}

jib {
    from {
        image = 'eclipse-temurin:21-jre'
    }
    to {
        image = 'kssol626/my-calc-app' 
        tags = ['latest']
        auth {
            username = System.getenv('DOCKER_USER')
            password = System.getenv('DOCKER_PASS')
        }
    }
    container {
        mainClass = 'com.example.Calculator' 
        creationTime = 'USE_CURRENT_TIMESTAMP'
    }
}
